{% extends "template.html" %}

{% block addition_css %}
<style>
    body {
        padding-left: 9px;
        padding-right: 9px;
    }

    .con_body_item {
        display: inline-block;
        vertical-align: top;
    }

    .panel_body {
        /* width: fit-content; */
        display: inline;
        /* width: 300px; */
    }

    .panel {
        margin-bottom: 3px;
        margin-right: 5px;
    }

    /* .display{
        overflow-y: scroll;
    } */
</style>
{% endblock %}

{% block addition_js %}
<!-- <script src="http://wolfpc/recrepo/vue/vue-2.6.11-dev.js"></script> -->
<script src="/static/index.js"></script>
{% endblock %}

{% block body %}
{% raw %}
<div class="con_body" id="api_panel">

    <div class="panel panel-info con_body_item" v-for="(node,index) in api_list">

        <div class="panel-heading" @click=hide_toggle(index)>
            <h3 class="panel-title">{{node.title}} apis
                <!-- <a href="#"><small>hide</small></a> -->
            </h3>
        </div>
        <div class="panel-body" v-for="(item,i) in node.list" v-show="node.show_list">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">{{i+1}}. {{item.api_name}} <small>{{item.method}}</small></h3>
                </div>
                <div class="panel-body">
                    <a :href=this_address+item.routes>{{item.routes}}</a><br>
                    <span v-html=item.details></span>
                </div>
            </div>
        </div>

    </div>

</div>

<hr>

<div class="panel panel-default" id="Statistics_panel">
    <div class="panel-heading" @click=initStatisticsData()>
        <h3 class="panel-title">{{title}}</h3>
    </div>
    <div class="panel-body" id="display">
        <table class="table table-bordered table-hover">
            <thead>
                <tr>
                    <th>{{th[0]}}</th>
                    <th>{{th[1]}}</th>
                    <th>{{th[2]}}</th>
                    <th>{{th[3]}}</th>
                    <th>{{th[4]}}</th>
                    <th>{{th[5]}}</th>
                </tr>
            </thead>
            <tbody>
                <tr v-for="item in apis">
                    <td>{{item.appname}}</td>
                    <td>{{item.apiname}}</td>
                    <td>{{item.method}}</td>
                    <td>{{item.NumOfCall}}</td>
                    <td>{{item.LastCallTime}}</td>
                    <td><a href="#">set to zero</a></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
{% endraw %}
{% endblock %}